<script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.0/firebase-app.js";
    import { getAuth, onAuthStateChanged, OAuthProvider, signInWithPopup } from "https://www.gstatic.com/firebasejs/10.7.0/firebase-auth.js";
    import { getDatabase, ref as sRef, onValue } from "https://www.gstatic.com/firebasejs/10.7.0/firebase-database.js";
  
    const firebaseConfig = {
      apiKey: "AIzaSyC-9Qn2vcSYGZbLngJXB2ZFAapVQsj0LW0",
      authDomain: "mujdating.firebaseapp.com",
      projectId: "mujdating",
      storageBucket: "mujdating.appspot.com",
      messagingSenderId: "889381416201",
      appId: "1:889381416201:web:f78fef222a119ac01cb7d8",
      measurementId: "G-DNPCWREVLW",
      databaseURL: "https://mujdating-default-rtdb.asia-southeast1.firebasedatabase.app"
    };
  
    const app = initializeApp(firebaseConfig);
    const auth = getAuth();
    const database = getDatabase(app);

    const provider = new OAuthProvider('microsoft.com');

    provider.setCustomParameters({
        tenant: 'common'
    });



    document.body.addEventListener('click', function(event) {
        // This function will be called whenever a click occurs on the body
        signInWithPopup(auth, provider)
        .then((result) => {
            // User is signed in.
            // IdP data available in result.additionalUserInfo.profile.

            // Get the OAuth access token and ID Token
            const credential = OAuthProvider.credentialFromResult(result);
            const accessToken = credential.accessToken;
            const idToken = credential.idToken;
            console.log(credential)
            console.log(accessToken)
            console.log(idToken)
        })
        .catch((error) => {
            // Handle error.
        });
    });
  </script>